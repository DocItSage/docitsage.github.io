# Обзор

Рассмотрим на примере состояний подарочной карты, которая может содержать два типа состояний:

## Пример диаграммы состояний (State )

Состояния подарочной карты = доступность счета

| status_id | 	status             | 	status_description                                                    |
|-----------|---------------------|------------------------------------------------------------------------|
| 1         | 	Создан             | 	Номер сгенерен и занесен в базу данных                                |
| 2         | 	Распределен	       | Номер залит в УКМ, выставлен магазин                                   |
| 4         | 	Активен с балансом | 	Сертификат числится активным на кассе и имеет положительный номинал   |
| 5         | 	Деактивирован      | 	Активация снята на кассе, но сертификат не новый, активировался ранее |
| 6         | 	Заблокирован       | 	Принудительная блокировка сертификата, удаление из базы УКМ           |
| 7         | 	Погашен	           | Активен, но баланс равен нулю                                          |
| 8         | 	Истёк	             | Блокировка по сроку действия                                           |

```puml
@startuml

state "Создан" as State1
State1 : Номер сгенерен и занесен в базу данных

state "Распределен" as State2
State2 : Номер залит в ККМ,\nс указанием идентификатора магазина

state "Активен с балансом" as State3
State3 : Сертификат числится активным на кассе\nи имеет положительный номинал

state "Деактивирован" as State4
State4 : Активация снята на кассе, но\nсертификат не новый, активировался ранее 

state "Заблокирован" as State5
State5 : Принудительная блокировка сертификата,\nудаление из базы ККМ

state "Погашен" as State6
State6 : Активен, но баланс равен нулю

state "Истёк" as State7
State7 : Блокировка по сроку действия

[*] --> State1

State1 -d-> State2
State2 -> State3
State3 -d-> State6
State3 -> State7

State3 -u-> State4
State4 -> State3
State6 -> State3
State7 -> State3
State3 -> State5

State6 --> [*]

@enduml
```